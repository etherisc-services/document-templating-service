{
  "metadata": {
    "filename": "farmer-profile-template-with-errors-2.docx",
    "linter_version": "2.0.0",
    "architecture": "docxtpl-based",
    "timestamp": 1754579624.1680784,
    "processing_time_ms": 52.91
  },
  "input_data": {
    "filename": "farmer-profile-template-with-errors-2.docx",
    "structured_text_size": 8547,
    "structured_text_lines": 161,
    "structured_text_preview": "Farmer Profile Report\nThis is a template for creating a Word document (.docx) for comprehensive farmer profile PDF generation. Convert this markdown to a Word document and save as farmer-profile-template.docx.\n{{ farmer.name }} - Farmer Profile\nReport ID: {{ farmer.farmerCode }}-PROFILE-{{ generatedAt }}\n{%invalid %}\nExecutive Summary\nThis comprehensive farmer profile provides detailed information about {{ farmer.name }}, including personal details, agricultural activities, location information,...",
    "structured_text_full": "Farmer Profile Report\nThis is a template for creating a Word document (.docx) for comprehensive farmer profile PDF generation. Convert this markdown to a Word document and save as farmer-profile-template.docx.\n{{ farmer.name }} - Farmer Profile\nReport ID: {{ farmer.farmerCode }}-PROFILE-{{ generatedAt }}\n{%invalid %}\nExecutive Summary\nThis comprehensive farmer profile provides detailed information about {{ farmer.name }}, including personal details, agricultural activities, location information, organizational relationships, payment methods, and supporting documentation.\n1. Personal Information\n2. Location Information\nGeographic Details\nAdministrative Levels\n{% if farmer.administrativeLevels %} \n{% else %}\nNo information on administrative levels available.\n{% endif %}\n3. Agricultural Information\nPrimary Activities\nAdditional Agricultural Activities\n{% if farmer.otherActivities %} \n{% for activity in farmer.otherActivities %}\n{{ activity }}\n {% endfor %} \n{% else %} \nNo additional activities specified. \n{% endif %}\n4. Organization Information\nPrimary Organization\nAdditional Organizations\n{% if farmer.organizationIds %} The farmer is associated with {{ farmer.organizationIds | length }} additional organization(s) for business intelligence and credit scoring purposes.\nOrganization IDs: {{ farmer.organizationIds | join(', ') }} \n{% else %} \nNo additional organizational relationships. \n{% endif %}\n5. Payment Information\n{% if farmer.paymentDetails %}\n{% for payment in farmer.paymentDetails %}\nPayment Method {{ loop.index }}\nType: {{ payment.type | title | replace('_', ' ') }}\n{% if payment.type == 'bank_transfer' %} \n{% elif payment.type == 'mobile_money' %}\n{% endif %}\n{% endfor %} \n{% else %} \nNo payment methods have been configured for this farmer. \n{% endif %}\n6. Document Repository\nProof of Stake/Insurable Interest\n{% if farmer.proofOfStake %} \nTotal Documents: {{ farmer.proofOfStake | length }} \n{% else %} \nNo proof of stake documents have been uploaded. \n{% endif %}\nDocument Storage Information\nAll documents are securely stored in encrypted cloud storage with access controls and audit logging. Documents can be retrieved through the farmer management system.\n7. Farm Location Map\n{% if farmer.latitude and farmer.longitude %} GPS Coordinates: {{ farmer.latitude }}, {{ farmer.longitude }}\nNote: A detailed satellite map showing the exact farm location is available in the digital version of this report. The coordinates provided above can be used with any mapping service to locate the farm.\nGoogle Maps Link: Google Maps\n{% if farmer.aez %} Agro-Ecological Zone: {{ farmer.aez }} This zone classification helps determine appropriate agricultural practices and risk assessments for the region. \n{% endif %} \n{% else %} Farm location coordinates are not available. Please update the farmer profile with GPS coordinates for accurate location mapping. \n{% endif %}\n8. KYC & Compliance Status\nData Quality Assessment\n{% if farmer.email and farmer.latitude and farmer.primaryActivity and farmer.paymentDetails %} âœ… Excellent - All required fields are complete \n{% elif farmer.phone and farmer.name %} \nâš ï¸ Good - Core information present, some optional fields missing \n{% else %} \nâŒ Needs Attention - Critical information missing \n{% endif %}\n9. Historical Activity\nPolicy History\n{% if farmer.policies and farmer.policies | length > 0 %} \nThe farmer has {{ farmer.policies | length }} insurance policies in the system. \n{% else %} \nNo insurance policies found for this farmer. \n{% endif %}\nQuote History\n{% if farmer.quotes and farmer.quotes | length > 0 %} \nThe farmer has {{ farmer.quotes | length }} insurance quotes in the system. \n{% else %} \nNo insurance quotes found for this farmer. \n{% endif %}\n10. Risk Assessment & Recommendations\nLocation Risk Factors\n{% if farmer.latitude and farmer.longitude %}\nâœ… GPS Coordinates Available - Enables precise risk modeling \n{% if farmer.aez %}\nâœ… AEZ Classification - Zone {{ farmer.aez }} agricultural practices identified \n{% else %}\nâš ï¸ AEZ Pending - Agro-ecological zone classification needed \n{% endif %} \n{% else %}\nâŒ Location Missing - GPS coordinates required for risk assessment \n{% endif %}\nData Completeness Score\n{% set completeness_score = 0 %}{% if farmer.name %}{% set completeness_score = completeness_score + 10 %}{% endif %}{% if farmer.phone %}{% set completeness_score = completeness_score + 10 %}{% endif %}{% if farmer.email %}{% set completeness_score = completeness_score + 10 %}{% endif %}{% if farmer.latitude and farmer.longitude %}{% set completeness_score = completeness_score + 15 %}{% endif %}{% if farmer.primaryActivity or farmer.crop %}{% set completeness_score = completeness_score + 15 %}{% endif %}{% if farmer.area %}{% set completeness_score = completeness_score + 10 %}{% endif %}{% if farmer.paymentDetails %}{% set completeness_score = completeness_score + 15 %}{% endif %}{% if farmer.proofOfStake %}{% set completeness_score = completeness_score + 15 %}{% endif %}\nProfile Completeness: {{ completeness_score }}%\n{% if completeness_score >= 80 %}ðŸŸ¢ Excellent - Profile is comprehensive and ready for all services {% elif completeness_score >= 60 %}ðŸŸ¡ Good - Profile is sufficient for basic services \n{% else %}ðŸ”´ Needs Improvement - Additional information required{% endif %}\nReport Footer\nGenerated By: {{ user.name }} ({{ user.email }})\nOrganization: {{ user.organization.name }}\nReport Type: Comprehensive Farmer Profile\nSystem Version: {{ systemVersion | default('v1.0') }}\nData Privacy Notice: This document contains personal and confidential information. Handle according to your organization's data protection policies and applicable privacy regulations.\nDocument Authenticity: This report was generated automatically from the farmer management system. For verification, contact {{ user.organization.name }} at {{ user.email }}.\nField | Value\nFull Name | {{ farmer.name }}\nFarmer Code | {{ farmer.farmerCode }}\nPhone Number | {{ farmer.phone }}\nEmail Address | {%p if farmer.email %}{{ farmer.email }}{% else %}\nNot provided\n{%p endif %}\nRegistration Date | {{ farmer.createdAt }}\nLast Updated | {{ farmer.updatedAt }}\nStatus | {%p if farmer.isActive %}\nActive\n{%p else %}\nInactive\n{%p endif %}\nField | Value\nCountry | {{ farmer.countryCode }}\nCoordinates | {% if farmer.latitude and farmer.longitude %}{{ farmer.latitude }}, {{ farmer.longitude }}{% else %}Not available{% endif %}\nAEZ (Agro-Ecological Zone) | {% if farmer.aez %}{{ farmer.aez }}{% else %}Not determined{% endif %}\n{%tr for level, value in farmer.administrativeLevels.items() %} | {%tr for level, value in farmer.administrativeLevels.items() %}\nLevel {{ level }} | {{ value }}\n{%tr endfor %} | {%tr endfor %}\nField | Value\nPrimary Activity/Products | {% if farmer.primaryActivity %}{{ farmer.primaryActivity }}{% elif farmer.crop %}{{ farmer.crop }}{% else %}Not specified{% endif %}\nFarm Size | {% if farmer.area %}{{ farmer.area }} hectares{% else %}Not specified{% endif %}\nField | Value\nOrganization Name | {{ farmer.organization.name }}\nOrganization Code | {{ farmer.organization.code }}\nOrganization ID | {{ farmer.organization.id }}\nField | Value\nAccount Name | {{ payment.account_name }}\nBank Name | {{ payment.bank_name }}\nCurrency | {{ payment.currency }}\n{%tr if payment.branch_name_or_code %} | {%tr if payment.branch_name_or_code %}\nBranch | {{ payment.branch_name_or_code }}\n{%tr endif %} | {%tr endif %}\nField | Value\nMobile Number | {{ payment.registered_mobile_number }}\nFull Name | {{ payment.full_name }}\n{%tr if payment.provider %} | {%tr if payment.provider %}\nProvider | {{ payment.provider }}\n{%tr endif %} | {%tr endif %}\nDocument # | Filename | Type | Upload Date | File Size\n{%tr for doc in farmer.proofOfStake %} | {%tr for doc in farmer.proofOfStake %} | {%tr for doc in farmer.proofOfStake %} | {%tr for doc in farmer.proofOfStake %} | {%tr for doc in farmer.proofOfStake %}\n{{ loop.index }} | {{ doc.filename }} | {{ doc.type }} | {{ doc.uploadedAt }} | {{ doc.size | filesizeformat }}\n{%tr endfor %} | {%tr endfor %} | {%tr endfor %} | {%tr endfor %} | {%tr endfor %}\nField | Value\nKYC Status | {% if farmer.kycStatus %}{{ farmer.kycStatus }}{% else %}Pending{% endif %}\nAccount Status | {% if farmer.isActive %}Active{% else %}Inactive{% endif %}\nData Completeness | {% if farmer.email and farmer.latitude and farmer.primaryActivity %}Complete{% else %}\nNeeds Update{% endif %}\nField | Value\nMember Since | {{ farmer.createdAt }}\nProfile Last Updated | {{ farmer.updatedAt }}\nDays as Member | {{ daysSinceRegistration }}",
    "extraction_method": "python-docx only",
    "processing_method": "plaintext syntax analysis"
  },
  "syntax_errors": [
    {
      "type": "template_syntax_error",
      "line_number": 5,
      "line_content": "{%invalid %}",
      "message": "Template syntax error: Encountered unknown tag 'invalid'.",
      "suggestion": "Check for unmatched tags, missing endif/endfor statements, or invalid Jinja2 syntax"
    }
  ],
  "missing_variables": [],
  "processing_info": {
    "total_errors": 1,
    "total_warnings": 0,
    "processing_time_ms": 52.91,
    "success": false
  }
}